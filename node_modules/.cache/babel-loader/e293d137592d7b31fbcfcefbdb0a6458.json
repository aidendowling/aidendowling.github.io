{"ast":null,"code":"const toDataView = require('to-data-view');\nconst decodeBmp = require('decode-bmp');\nfunction isPng(view, offset) {\n  return view.getUint32(offset + 0) === 0x89504e47 && view.getUint32(offset + 4) === 0x0d0a1a0a;\n}\nfunction pngBitsPerPixel(view, offset) {\n  const bitDepth = view.getUint8(offset + 24);\n  const colorType = view.getUint8(offset + 25);\n  if (colorType === 0) return bitDepth * 1;\n  if (colorType === 2) return bitDepth * 3;\n  if (colorType === 3) return bitDepth * 1;\n  if (colorType === 4) return bitDepth * 2;\n  if (colorType === 6) return bitDepth * 4;\n  throw new Error('Invalid PNG colorType');\n}\nfunction pngWidth(view, offset) {\n  return view.getUint32(offset + 16, false);\n}\nfunction pngHeight(view, offset) {\n  return view.getUint32(offset + 20, false);\n}\nmodule.exports = function decodeIco(input) {\n  const view = toDataView(input);\n  if (view.byteLength < 6) {\n    throw new Error('Truncated header');\n  }\n  if (view.getUint16(0, true) !== 0) {\n    throw new Error('Invalid magic bytes');\n  }\n  const type = view.getUint16(2, true);\n  if (type !== 1 && type !== 2) {\n    throw new Error('Invalid image type');\n  }\n  const length = view.getUint16(4, true);\n  if (view.byteLength < 6 + 16 * length) {\n    throw new Error('Truncated image list');\n  }\n  return Array.from({\n    length\n  }, (_, idx) => {\n    const width = view.getUint8(6 + 16 * idx + 0);\n    const height = view.getUint8(6 + 16 * idx + 1);\n    const size = view.getUint32(6 + 16 * idx + 8, true);\n    const offset = view.getUint32(6 + 16 * idx + 12, true);\n    const hotspot = type !== 2 ? null : {\n      x: view.getUint16(6 + 16 * idx + 4, true),\n      y: view.getUint16(6 + 16 * idx + 6, true)\n    };\n    if (isPng(view, offset)) {\n      return {\n        bpp: pngBitsPerPixel(view, offset),\n        data: new Uint8Array(view.buffer, view.byteOffset + offset, size),\n        height: pngHeight(view, offset),\n        hotspot,\n        type: 'png',\n        width: pngWidth(view, offset)\n      };\n    }\n    const data = new Uint8Array(view.buffer, view.byteOffset + offset, size);\n    const bmp = decodeBmp(data, {\n      width,\n      height,\n      icon: true\n    });\n    return {\n      bpp: bmp.colorDepth,\n      data: bmp.data,\n      height: bmp.height,\n      hotspot,\n      type: 'bmp',\n      width: bmp.width\n    };\n  });\n};","map":{"version":3,"names":["toDataView","require","decodeBmp","isPng","view","offset","getUint32","pngBitsPerPixel","bitDepth","getUint8","colorType","Error","pngWidth","pngHeight","module","exports","decodeIco","input","byteLength","getUint16","type","length","Array","from","_","idx","width","height","size","hotspot","x","y","bpp","data","Uint8Array","buffer","byteOffset","bmp","icon","colorDepth"],"sources":["/Users/aidendowling/Documents/GitHub/portfoliosite/node_modules/decode-ico/index.js"],"sourcesContent":["const toDataView = require('to-data-view')\nconst decodeBmp = require('decode-bmp')\n\nfunction isPng (view, offset) {\n  return (view.getUint32(offset + 0) === 0x89504e47 && view.getUint32(offset + 4) === 0x0d0a1a0a)\n}\n\nfunction pngBitsPerPixel (view, offset) {\n  const bitDepth = view.getUint8(offset + 24)\n  const colorType = view.getUint8(offset + 25)\n\n  if (colorType === 0) return bitDepth * 1\n  if (colorType === 2) return bitDepth * 3\n  if (colorType === 3) return bitDepth * 1\n  if (colorType === 4) return bitDepth * 2\n  if (colorType === 6) return bitDepth * 4\n\n  throw new Error('Invalid PNG colorType')\n}\n\nfunction pngWidth (view, offset) {\n  return view.getUint32(offset + 16, false)\n}\n\nfunction pngHeight (view, offset) {\n  return view.getUint32(offset + 20, false)\n}\n\nmodule.exports = function decodeIco (input) {\n  const view = toDataView(input)\n\n  if (view.byteLength < 6) {\n    throw new Error('Truncated header')\n  }\n\n  if (view.getUint16(0, true) !== 0) {\n    throw new Error('Invalid magic bytes')\n  }\n\n  const type = view.getUint16(2, true)\n\n  if (type !== 1 && type !== 2) {\n    throw new Error('Invalid image type')\n  }\n\n  const length = view.getUint16(4, true)\n\n  if (view.byteLength < 6 + (16 * length)) {\n    throw new Error('Truncated image list')\n  }\n\n  return Array.from({ length }, (_, idx) => {\n    const width = view.getUint8(6 + (16 * idx) + 0)\n    const height = view.getUint8(6 + (16 * idx) + 1)\n    const size = view.getUint32(6 + (16 * idx) + 8, true)\n    const offset = view.getUint32(6 + (16 * idx) + 12, true)\n\n    const hotspot = (type !== 2 ? null : {\n      x: view.getUint16(6 + (16 * idx) + 4, true),\n      y: view.getUint16(6 + (16 * idx) + 6, true)\n    })\n\n    if (isPng(view, offset)) {\n      return {\n        bpp: pngBitsPerPixel(view, offset),\n        data: new Uint8Array(view.buffer, view.byteOffset + offset, size),\n        height: pngHeight(view, offset),\n        hotspot,\n        type: 'png',\n        width: pngWidth(view, offset)\n      }\n    }\n\n    const data = new Uint8Array(view.buffer, view.byteOffset + offset, size)\n    const bmp = decodeBmp(data, { width, height, icon: true })\n\n    return {\n      bpp: bmp.colorDepth,\n      data: bmp.data,\n      height: bmp.height,\n      hotspot,\n      type: 'bmp',\n      width: bmp.width\n    }\n  })\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}